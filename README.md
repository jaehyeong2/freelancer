## 프리랜서 프로필 조회 서비스

### 모듈 구조
- core: 엔티티 / 도메인 서비스 존재
- client-api: 프리랜서를 구하는 클라이언트가 사용하는 api. core 모듈 의존
- freelancer-api: 프리랜서를 구하는 클라이언트가 사용하는 api. core 모듈 의존

  </br>

### 기술 스택
- java (jdk17)
- spring boot + jpa(maria db)
- query dsl
  
</br>



### 요구사항
1. 프리랜서를 등록일 / 프로필 조회 수 / 이름 순으로 정렬하여 조회할 수 있다.
2. 대량의 트래픽을 가정하여 프리랜서의 조회수가 업데이트 되게 한다. (실시간 반영은 필요 x) 

</br>

### 분석
- 프리랜서가 본인을 등록하는 쓰기 : 클라이언트가 프리랜서를 조회하는 읽기 비율 중 읽기 비율이 클 것이라고 가정한다.
- 등록일이 오래 지난 프리랜서 / 프로필 조회 수가 낮은 프리랜서의 경우 점점 조회 수 증가 비율이 줄어들 것이다.
- 프로필 조회수가 높은 프리랜서가 신규 프리랜서 / 조회수 낮은 프리랜서보다 조회수가 늘어날 확률이 높다고 가정한다.

</br>

### 해결 방안

scale-out 된 상황을 가정
</br>

1. 조회 시 마다 조회 수 컬럼 업데이트
- 대량 트래픽의 경우 성능 문제 발생 
</br>

2. 서버 메모리 저장 -> 일정 주기 db flush
- 낮은 가격으로 성능 개선 가능
- 인스턴스 간 동기화 필요
- 서버 사망 시 데이터 유실 위험 존재
</br>

3. redis write-back -> 일정 주기 db flush
- 디비 부하 감소 
- 모든 데이터를 레디스에 선 저장한다면 비용 대비 효과가 떨어짐
</br>

4. 인기 프리랜서는 redis에 write-back / 일반 프리랜서는 db 업데이트
- 전체 캐싱이 아니기 때문에 3대비 레디스 관리 데이터 감소 
</br>

5. 인기 프리랜서는 redis에 write-through / 일반 프리랜서는 db 업데이트
- 레디스가 관리하는 데이터 감소 
</br>
